(this["webpackJsonpq-money"]=this["webpackJsonpq-money"]||[]).push([[0],{381:function(e,t,a){e.exports=a(588)},390:function(e,t,a){},588:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),i=a(77),s=a(58),c=a(104),l={selectedUser:null,userList:[],userData:[],errorMsg:"",isError:!1,errorCode:"",chartData:{labelArray:[],absoluteReturnArray:[],annualReturnArray:[]}},p=Object(s.c)({MainReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_USER":return Object(c.a)({},e,{selectedUser:t.payload});case"SET_CHART_DATA":return Object(c.a)({},e,{chartData:t.payload});case"SET_USER_LIST":return Object(c.a)({},e,{userList:t.payload});case"SET_USER_DATA":return Object(c.a)({},e,{userData:t.payload});case"SET_ERROR_MSG":return Object(c.a)({},e,{errorMsg:t.payload.msg,isError:!0,errorCode:t.payload.code});case"DISABLE_ERROR_STATE":return Object(c.a)({},e,{isError:!1});default:return e}}}),u=(a(390),a(371)),d=a(372),h=a(27),g=a(24),m=a(35),y=a(36),f=a(73),b=a(37),x=a(9),E=a(62),S=a.n(E),R=a(620),A=a(3),v=a(90),D=function(e){switch(e){case"heading1":case"heading2":case"heading3":case"heading4":case"heading5":case"headLine":case"button":case"title":case"subHeader":case"button":default:return"Open Sans"}},C=function(e){switch(e){case"heading1":return"32px";case"heading2":return"24px";case"heading3":return"18px";case"heading4":return"16px";case"heading5":return"14px";case"body1":return"18px";case"body2":return"16px";case"body3":return"14px";case"body4":return"12px";case"quote":return"20px";case"button":default:return"14px"}},O=function(e){switch(e){case"heading1":case"heading2":case"heading3":case"heading4":case"heading5":return"600";case"body1":case"body2":case"body3":case"body4":return"400";case"quote":case"button":return"600";case"bold":return"800";default:return"400"}},F=function(e){var t=e.classes,a=(e.color,Object(A.a)(e,["color"]));return r.a.createElement(v.a,Object.assign({className:t.root,style:{fontFamily:e.fontFamily?e.fontFamily:D(e.type),fontSize:e.fontSize?e.fontSize:C(e.type),fontWeight:e.fontWeight?e.fontWeight:O(e.type),color:e.color?e.color:function(e){switch(e){case"heading1":case"heading2":case"heading3":case"heading4":case"heading5":return"#3C3C3C";case"button":return"#FFFFFF";default:return"#3C3C3C"}}(e.type),letterSpacing:"0.04em"}},a),e.children)};F.defaultProps={type:"body"};var j=Object(i.b)((function(e){return{theme:e.themeReducer}}),{})(S()((function(e){return{root:{letterSpacing:0,opacity:1}}}))(F)),U=a(302),w=a(623),T=(a(411),a(412),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(m.a)(this,Object(y.a)(t).call(this,e))).onMeChange=function(e,t){null!==t&&(a.setState({input:t.text}),a.props.handleMeChange(t.value))},a.onSearchChange=function(e,t){a.setState({searchQuery:t.searchQuery})},console.log(e),a.state={searchQuery:"",input:e.selectData.length>0?e.selectData.find((function(t,a){return e.selectedValue===t.value})).text:""},a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var a=this;console.log("parentProps",this.props.parentProps),e!==this.props&&null!==this.props.selectedValue&&this.setState({input:this.props.selectData.length>0?this.props.selectData.find((function(e,t){return a.props.selectedValue===e.value})).value:""})}},{key:"render",value:function(){var e,t=this;this.props.classes;return r.a.createElement(w.a,(e={className:"user",autoHighlight:!0,loading:!0,inputValue:this.state.input,onInputChange:function(e,a){console.log(a,"Dropdown input chnage Devent"),t.setState({input:a})},onChange:this.onMeChange,id:"combo-box-demo",style:{width:"100%"},options:this.props.selectData,getOptionLabel:function(e){return e.text}},Object(x.a)(e,"style",{width:300}),Object(x.a)(e,"renderInput",(function(e){return r.a.createElement(U.a,Object.assign({},e,{label:" User",variant:"outlined",style:{width:"100%"}}))})),e))}}]),t}(n.Component)),k=S()((function(e){return{selectRoot:{width:"100%",height:"100%"},searchRoot:{color:"#fff"},clearButton:{color:e.palette.primary.black,fontSize:"1.5rem!important"},searchInput:{color:e.palette.primary.black,backgroundColor:e.palette.primary.white},searchLabel:{color:e.palette.primary.black,fontSize:"14px",fontWeight:"600"}}}))(T),_=a(621),L=a(308),M=a(366),z=a.n(M),W=a(243),B=a(244),H=a(135),N=a(245),I=a.n(N),P=function(e){function t(){var e;return Object(h.a)(this,t),(e=Object(m.a)(this,Object(y.a)(t).call(this))).getUserList=function(){var t=e.props,a=t.setUserListAction,n=t.setUserDataAction,r=t.setSelectedUser,o=e.getGraphResult,i=[];return I.a.get("/config/json").then((function(e){console.log("User List",e),e.data.forEach((function(e,t){i.push({text:e.name,value:e.name})})),a(i),n(e.data),r(e.data[0].name),o(e.data[0])})).catch((function(e){console.log(e)})).finally((function(){}))},e.getGraphResult=function(t){var a=e.props,n=(a.setUserListAction,a.setUserDataAction,a.setErrorMsgAction),r=a.disableErrorStateAction,o=a.setChartDataAction;return I.a.post("/portfolio/analyze",t).then((function(e){r(),console.log("User Returns",e),o(function(e){var t=[],a=[],n=[];return e.annualizedReturns.forEach((function(e,r){t.push(e.symbol),a.push(e.totalReturns),n.push(e.annualizedReturn)})),{labelArray:t,absoluteReturnArray:a,annualReturnArray:n}}(e.data))})).catch((function(e){console.log(e),n(e.message.includes("503")?"Large portfolio is not supported in your current plan.":JSON.stringify(e),e.message)})).finally((function(){}))},e.state={input:""},e.getUserList=e.getUserList.bind(Object(f.a)(e)),e}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){this.getUserList()}},{key:"handleUserChange",value:function(e){console.log("userChanged",e),this.props.setSelectedUser(e),console.log("State",this.props.data),this.getGraphResult(this.props.data.userData.find((function(t,a){return t.name===e})))}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(R.a,{container:!0,className:t.rootContainer},r.a.createElement(R.a,{item:!0,xs:12},r.a.createElement(_.a,{position:"static"},r.a.createElement(L.a,{style:{padding:"0px"}},r.a.createElement("div",{style:{height:"60px",marginRight:"10px",cursor:"pointer",borderRight:"1px solid #000",textAlign:"center"}},r.a.createElement(W.a,{icon:["fal","money-bill-wave-alt"],color:"#fff",size:"lg",alt:"QMoney",style:{padding:"16px"}})),r.a.createElement(j,{type:"heading4",color:"#fff"},"QMoney")))),r.a.createElement(R.a,{item:!0,xs:12,style:{borderBottom:"1px solid #EEEEEE",padding:"36px",backgroundColor:"#FAFAFA",boxShadow:"0 2px 2px 0 rgba(0,0,0,0.14), 0 3px 1px -2px rgba(0,0,0,0.12), 0 1px 5px 0 rgba(0,0,0,0.2)"}},r.a.createElement("div",null,r.a.createElement(j,{type:"heading2"},"Transactions"))),r.a.createElement(R.a,{item:!0,xs:12,style:{backgroundColor:"#F7F7F7",minHeight:"calc(100vh - 173px)"}},r.a.createElement(R.a,{container:!0},r.a.createElement(R.a,{item:!0,xs:12,sm:12,md:5,lg:4,className:t.tableContainer},r.a.createElement("div",{style:{width:"60%",textAlign:"left",marginBottom:"15px"}},r.a.createElement(k,{handleMeChange:this.handleUserChange.bind(this),selectData:this.props.data.userList,selectedValue:this.props.data.selectedUser,parentProps:this.props})),r.a.createElement(z.a,{title:r.a.createElement(j,{type:"heading3"},"User Transaction"),columns:[{title:"Date",field:"purchaseDate",cellStyle:{opacity:"0.87",color:"#000000",fontFamily:"Open Sans",fontSize:"13px",fontWeight:"500",lineHeight:"14px"}},{title:"Symbol",field:"symbol",cellStyle:{opacity:"0.87",color:"#000000",fontFamily:"Open Sans",fontSize:"13px",fontWeight:"500",lineHeight:"14px"}},{title:"Quantity",field:"quantity",type:"numeric",cellStyle:{opacity:"0.87",color:"#000000",fontFamily:"Open Sans",fontSize:"13px",fontWeight:"500",lineHeight:"14px"}},{title:"Type",field:"tradeType",cellStyle:{opacity:"0.87",color:"#000000",fontFamily:"Open Sans",fontSize:"13px",fontWeight:"500",lineHeight:"14px"}}],data:null===this.props.data.selectedUser?[]:this.props.data.userData.find((function(t,a){return t.name===e.props.data.selectedUser})).portfolioTrades,options:{paging:!1,sorting:!0,search:!1,headerStyle:{opacity:"0.87",color:"#000000",fontFamily:"Open Sans",fontSize:"12px",fontWeight:"500",lineHeight:"14px"}}})),this.props.data.isError?r.a.createElement(R.a,{item:!0,xs:12,sm:12,md:6,lg:8,className:t.graphContainer},r.a.createElement("div",{style:{margin:"17px 17px 50px 17px"}},r.a.createElement(j,{type:"heading4"},"Portfolio generated by the transactions")),r.a.createElement(R.a,{container:!0,className:t.errorMsgContainer},r.a.createElement(R.a,{item:!0,xs:12,sm:12,md:10,lg:12},r.a.createElement("div",{className:t.errorInfo},r.a.createElement(j,{type:"heading2",color:"#B6B6B6"},r.a.createElement(W.a,{icon:["fas","exclamation-square"],color:"#B6B6B6",size:"1x",alt:"!",style:{marginRight:"10px"}}),"Error - ",this.props.data.errorCode),r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement("p",{style:{fontFamily:"Open Sans",fontSize:"16px",fontWeight:"400",letterSpacing:"0.04em",boxShadow:"0 0 black",lineHeight:"40px",color:"red"}},this.props.data.errorMsg)))))):r.a.createElement(R.a,{item:!0,xs:12,sm:12,md:6,lg:7,className:t.graphContainer},r.a.createElement("div",{style:{margin:"17px 17px 50px 17px"}},r.a.createElement(j,{type:"heading4"},"Portfolio generated by the transactions")),r.a.createElement(H.a,{className:t.paper},r.a.createElement("div",{className:t.graphHeading},r.a.createElement(j,{type:"heading3"},"Absolute Returns "),r.a.createElement(j,{type:"body2"},"Return on investment since the time of purchase.")),r.a.createElement(B.a,{options:{cornerRadius:20,legend:{display:!1},scales:{yAxes:[{barPercentage:.3}]}},data:{labels:this.props.data.chartData.labelArray,datasets:[{label:"Annual Return",backgroundColor:this.props.data.chartData.annualReturnArray.map((function(e){return e>0?"#2D99FF":"#F7517F"})),borderColor:this.props.data.chartData.annualReturnArray.map((function(e){return e>0?"#2D99FF":"#F7517F"})),radius:5,borderWidth:1,borderRadius:5,hoverBackgroundColor:this.props.data.chartData.annualReturnArray.map((function(e){return e>0?"rgba(45,153,255,0.8)":"rgba(247,81,143,0.8)"})),data:this.props.data.chartData.annualReturnArray.map((function(e){return(100*e).toFixed(2)}))}]}})),r.a.createElement(H.a,{className:t.paper},r.a.createElement("div",{className:t.graphHeading},r.a.createElement(j,{type:"heading3"},"Annualized Returns "),r.a.createElement(j,{type:"body2"},"Average return on investment compounded over a period of time.")),r.a.createElement(B.a,{options:{cornerRadius:20,legend:{display:!1},scales:{yAxes:[{barPercentage:.3}]}},data:{labels:this.props.data.chartData.labelArray,datasets:[{label:"Annual Return",backgroundColor:this.props.data.chartData.absoluteReturnArray.map((function(e){return e>0?"#2D99FF":"#F7517F"})),borderColor:this.props.data.chartData.absoluteReturnArray.map((function(e){return e>0?"#2D99FF":"#F7517F"})),radius:5,borderWidth:1,borderRadius:5,hoverBackgroundColor:this.props.data.chartData.absoluteReturnArray.map((function(e){return e>0?"rgba(45,153,255,0.8)":"rgba(247,81,143,0.8)"})),data:this.props.data.chartData.absoluteReturnArray.map((function(e){return(100*e).toFixed(2)}))}]}}))))))}}]),t}(n.Component),q=Object(i.b)((function(e){return{data:e.MainReducer}}),(function(e){return{setSelectedUser:function(t){return e({type:"SET_SELECTED_USER",payload:t})},setUserListAction:function(t){return e({type:"SET_USER_LIST",payload:t})},setUserDataAction:function(t){return e({type:"SET_USER_DATA",payload:t})},setErrorMsgAction:function(t,a){return e({type:"SET_ERROR_MSG",payload:{msg:t,code:a}})},disableErrorStateAction:function(){return e({type:"DISABLE_ERROR_STATE",payload:{}})},setChartDataAction:function(t){return e({type:"SET_CHART_DATA",payload:t})}}}))(S()((function(e){return{rootContainer:{width:"100%"},paper:Object(x.a)({margin:"17px",padding:"20px"},e.breakpoints.down("md"),{margin:"0px 0px 17px 0px",padding:"20px"}),graphHeading:{padding:"0px 20px 20px 5px"},tableContainer:Object(x.a)({borderRight:"1px solid #EEEEEE",boxSizing:"border-box",padding:"40px"},e.breakpoints.down("md"),{padding:"20px 10px"}),graphContainer:Object(x.a)({padding:"20px 40px"},e.breakpoints.down("md"),{padding:"20px 10px"}),errorMsgContainer:Object(x.a)({border:"1px solid #D8D8D8",backgroundColor:"#F7F8FA",minHeight:"100px",padding:"24px 40px",overflowY:"auto"},e.breakpoints.down("md"),{padding:"20px 20px"}),erroIcon:Object(x.a)({},e.breakpoints.down("sm"),{flexOrder:1})}}))(P));a(138).b.add(u.a,d.a);var Q=function(){return r.a.createElement(q,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=Object(s.e)(p);Object(o.render)(r.a.createElement(i.a,{store:G},r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[381,1,2]]]);
//# sourceMappingURL=main.82964a0d.chunk.js.map